backend:
    name: github
    repo: akingdebased/fls-international
    branch: master # Branch to update (optional; defaults to master)

local_backend: true # TODO: Check if this prohibits the CMS from running on Netlify (production)

publish_mode: editorial_workflow

media_folder: static/assets
public_folder: /assets
collections:
    - name: pages
      label: Pages
      files:
          - file: 'src/netlify-content/pages/home.md'
            label: 'Home Page'
            name: 'home'
            fields:
                - widget: 'list'
                  label: 'Hero Carousel Items'
                  name: 'carousel_settings'
                  label_singular: 'hero carousel item'
                  fields:
                      - { label: 'Title', name: 'title', widget: 'text' }
                      - { label: 'Copy', name: 'copy', widget: 'text' }
                      - {
                            label: 'Carousel Image',
                            name: 'carousel-image',
                            widget: 'image',
                        }
                - widget: 'object'
                  label: 'Explore Your World'
                  name: 'explore_your_world'
                  fields:
                      - { label: 'Title', name: 'title', widget: 'text' }
                      - { label: 'Subtitle', name: 'subtitle', widget: 'text' }
                      - { label: 'Copy', name: 'copy', widget: 'text' }
                - widget: 'object'
                  label: 'Start Your Journey'
                  name: 'start_your_journey'
                  fields:
                      - { label: 'Title', name: 'title', widget: 'text' }
                      - { label: 'Subtitle', name: 'subtitle', widget: 'text' }
                      - { label: 'Copy', name: 'copy', widget: 'text' }
                - widget: 'object'
                  label: 'Our Popular Programs'
                  name: 'our_popular_programs'
                  fields:
                      - { label: 'Title', name: 'title', widget: 'text' }
                      - { label: 'Subtitle', name: 'subtitle', widget: 'text' }
                      - { label: 'Copy', name: 'copy', widget: 'text' }
                - widget: 'object'
                  label: 'How Is Your English?'
                  name: 'how_is_your_english'
                  fields:
                      - { label: 'Title', name: 'title', widget: 'text' }
                      - { label: 'Subtitle', name: 'subtitle', widget: 'text' }
                      - { label: 'Copy', name: 'copy', widget: 'text' }
          - file: 'src/netlify-content/pages/programs.md'
            label: 'Programs Page'
            name: 'programs'
            fields:
                - widget: 'object'
                  name: 'programTypeDescriptions'
                  label: 'Program Type Descriptions'
                  hint: '1 - 3 sentences summarizing the program type. Will render, conditionally, on the /programs page'
                  fields:
                      - { label: 'In-Person', name: 'inPerson', widget: string }
                      - { label: 'Online', name: 'online', widget: string }
                      - {
                            label: 'Speciality Tours',
                            name: 'specialityTours',
                            widget: string,
                        }
    - name: 'location'
      label: 'Location'
      create: true
      folder: 'src/netlify-content/location'
      identifier_field: title
      fields:
          # See if there's a way to add descriptive text to these fields
          - {
                label: 'Title',
                name: 'title',
                widget: 'string',
                hint: 'All lower case, use dashes instead of spaces (e.g. citrus-college-center)',
            }
          - { label: 'Name', name: 'name', widget: 'string' }
          - {
                label: 'General Fees',
                name: 'general-fees',
                widget: 'relation',
                collection: 'general-fees',
                valueField: 'title',
                searchFields: ['title'],
                displayFields: ['title'],
            }
          - {
                label: 'Programs',
                name: 'programs',
                widget: 'list',
                fields:
                    [
                        { label: 'Name', name: 'name', widget: 'string' },
                        {
                            label: 'Max Weeks',
                            name: 'max-weeks',
                            widget: 'string',
                        },
                        {
                            label: 'Exceed max weeks?',
                            name: 'exceed-max-weeks',
                            required: false,
                            widget: 'boolean',
                        },
                        {
                            label: 'Week Thresholds',
                            name: 'week-thresholds',
                            widget: 'list',
                            fields:
                                [
                                    {
                                        label: 'Threshold Max',
                                        name: 'threshold-max',
                                        widget: 'number',
                                    },
                                    {
                                        label: 'Price Per Week',
                                        name: 'price-per-week',
                                        widget: 'number',
                                    },
                                    {
                                        label: 'Hours Per Week',
                                        name: 'hours-per-week',
                                        widget: 'number',
                                    },
                                    {
                                        label: 'Lessons Per Week',
                                        name: 'lessons-per-week',
                                        widget: 'number',
                                    },
                                ],
                        },
                    ],
            }
          - {
                label: 'Supplements',
                name: 'supplements',
                widget: 'object',
                fields: [
                        {
                            label: 'Airport Transfers',
                            name: 'airport-transfers',
                            widget: 'list',
                            allow_add: true,
                            fields:
                                [
                                    {
                                        label: 'Airport Name',
                                        name: 'airport-name',
                                        widget: 'string',
                                    },
                                    {
                                        label: 'Cost',
                                        name: 'cost',
                                        widget: 'number',
                                    },
                                ],
                        },
                        {
                            # TODO: Do we need to capture "per x unit class"?
                            # TODO: Also note, how do we capture the 'sublocations' that Boston Commons has?
                            label: 'Concurrent Enrollment',
                            name: 'concurrent-enrollment',
                            widget: 'object',
                            fields:
                                [
                                    {
                                        label: 'Per 3 unit class',
                                        name: 'per-3-unit-class',
                                        widget: 'number',
                                    },
                                ],
                        },
                        {
                            # TODO: How do we capture the amount for 4 weeks, and the amount each additional week?
                            label: 'Auditing',
                            name: 'auditing',
                            widget: 'object',
                            fields:
                                [
                                    {
                                        label: '4 Week Cost',
                                        name: '4-week-cost',
                                        widget: 'number',
                                    },
                                    {
                                        label: 'Additional week cost',
                                        name: 'additional-week-cost',
                                        widget: 'number',
                                    },
                                ],
                        },
                        {
                            # TODO: Do we need to capture "per x unit class"?
                            label: 'High School Completion Course',
                            name: 'hs-completion-course',
                            widget: 'object',
                            fields:
                                [
                                    {
                                        label: '4 Week Cost',
                                        name: '4-week-cost',
                                        widget: 'number',
                                    },
                                    {
                                        label: 'Additional week cost',
                                        name: 'additional-week-cost',
                                        widget: 'number',
                                    },
                                ],
                        },
                        {
                            # TODO: Do we need to capture "per x unit class"?
                            label: 'High School Immersion',
                            name: 'hs-immersion',
                            widget: 'object',
                            fields:
                                [
                                    {
                                        label: 'Per week cost',
                                        name: 'per-week-cost',
                                        widget: 'number',
                                    },
                                ],
                        },
                    ],
            }
          - {
                label: 'Housing Fees',
                name: 'housing-fees',
                widget: 'list',
                fields: [
                        {
                            label: 'Housing Name',
                            name: 'housing-name',
                            widget: 'string',
                        },
                        {
                            label: 'Meals per week',
                            name: 'meals-per-week',
                            widget: 'number',
                        },
                        {
                            label: 'Cost Per Week',
                            name: 'cost-per-week',
                            widget: 'number',
                        },
                        {
                            label: 'Non-refundable Deposit',
                            name: 'non-refundable-deposit',
                            widget: 'number',
                        },
                        {
                            label: 'Additional Notes',
                            name: 'additional-notes',
                            widget: 'list',
                            # TODO: When creating new notes, they come wrapped in another object. I don't think this is intended behavior
                            field:
                                {
                                    label: 'Note',
                                    name: 'note',
                                    widget: 'string',
                                },
                        },
                    ],
            }
    - name: 'general-fees'
      label: 'General Fees'
      create: true
      folder: 'src/netlify-content/general-fees'
      identifier_field: title
      fields:
          - {
                name: 'title',
                label: 'Title',
                widget: 'string',
                hint: 'All lower case, use dashes instead of spaces (e.g. citrus-college-center)',
            }
          - {
                label: 'Fees',
                name: 'fees',
                widget: 'list',
                fields:
                    [
                        { label: 'Name', name: 'name', widget: 'string' },
                        { label: 'Cost', name: 'cost', widget: 'number' },
                        {
                            label: 'Pay Period',
                            name: 'pay-period',
                            widget: 'select',
                            hint: 'How often should this fee be charged?',
                            options:
                                ['Once', 'Per week', 'Per Lesson', 'Per Night'],
                        },
                    ],
            }
    - name: 'locationsDynamicPages'
      label: 'Locations Dynamic Pages'
      create: true
      folder: 'src/netlify-content/dynamic-pages/locations'
      identifier_field: pageName
      label_singular: 'location dynamic page'
      fields:
          - {
                label: 'Path',
                name: 'path',
                widget: 'string',
                hint: 'The URL for the page. Should be all lower case, and uses dashes instead of spaces, e.g.locations/path-name-here. ',
            }
          - {
                label: 'Page Name',
                name: 'pageName',
                widget: 'string',
                hint: 'The main name, usually rendered at the top of the page. Should be similar to the path url.',
            }
          # TODO: This needs a 'center name' field
          - { label: 'Name', name: 'name', widget: 'string' }
          - {
                label: 'Description',
                name: 'description',
                widget: 'string',
                hint: '1 - 3 sentences describing the location. Used on the location card.',
            }
          - {
                label: 'Quick Facts',
                name: 'quick-facts',
                widget: 'list',
                label_singular: 'quick fact',
                fields:
                    [
                        { label: 'Name', name: 'name', widget: 'string' },
                        { label: 'Icon', name: 'icon', widget: 'image' },
                        {
                            label: 'Items',
                            name: 'items',
                            hint: 'Separate each item with a bullet point',
                            widget: 'markdown',
                        },
                    ],
            }
          - {
                label: 'Carousel Images',
                name: 'carousel-images',
                widget: 'list',
                field:
                    {
                        label: 'Carousel Image',
                        name: 'carousel-image',
                        widget: 'image',
                    },
            }
          - {
                label: 'Location post content',
                name: 'post-content',
                widget: 'markdown',
            }
    - name: 'inPersonProgramsDynamicPages'
      label: 'In Person Programs Dynamic Pages'
      create: true
      folder: 'src/netlify-content/dynamic-pages/programs/in-person'
      identifier_field: name
      fields:
          - {
                label: 'Path',
                name: 'path',
                widget: 'string',
                hint: 'The URL for the page. Should be all lower case, and uses dashes instead of spaces, e.g.locations/path-name-here. ',
            }
          - {
                label: 'Page Name',
                name: 'pageName',
                widget: 'string',
                hint: 'The main name, usually rendered at the top of the page. Should be similar to the path url.',
            }
          - { label: 'Name', name: 'name', widget: 'string' }
          - { label: 'Hero Image', name: 'hero-image', widget: 'image' }
          - {
                label: 'Program Details',
                name: 'program-details',
                widget: 'object',
                fields:
                    [
                        {
                            label: 'Lessons per week',
                            name: 'lessons-per-week',
                            widget: 'number',
                        },
                        {
                            label: 'Hours per week',
                            name: 'hours-per-week',
                            widget: 'number',
                        },
                        {
                            label: 'Minutes per lesson',
                            name: 'minutes-per-lesson',
                            widget: 'number',
                        },
                    ],
            }
          - {
                label: 'Description',
                name: 'description',
                widget: 'string',
                hint: 'A 1 - 3 sentence summary of the program. Used on the program card.',
            }
          - {
                label: 'Program post content',
                name: 'program-post-content',
                widget: 'markdown',
            }
          - {
                label: 'Program features content',
                name: 'program-features-content',
                widget: 'markdown',
            }
    - name: 'onlineProgramsDynamicPages'
      label: 'Online Programs Dynamic Pages'
      create: true
      folder: 'src/netlify-content/dynamic-pages/programs/online'
      identifier_field: name
      label_singular: 'online program dynamic page'
      fields:
          - {
                label: 'Path',
                name: 'path',
                widget: 'string',
                hint: 'The URL for the page. Should be all lower case, and uses dashes instead of spaces, e.g.locations/path-name-here. ',
            }
          - {
                label: 'Online Program Data',
                name: 'onlineProgram',
                widget: 'relation',
                valueField: 'name',
                searchFields: ['name'],
                collection: 'onlineProgramsData',
                hint: 'The online program data item to pull program specific info from',
            }
          - { label: 'Hero Image', name: 'hero-image', widget: 'image' }
          - {
                label: 'Program Details',
                name: 'program-details',
                widget: 'object',
                fields:
                    [
                        {
                            label: 'Lessons per week',
                            name: 'lessons-per-week',
                            widget: 'number',
                        },
                        {
                            label: 'Hours per week',
                            name: 'hours-per-week',
                            widget: 'number',
                        },
                        {
                            label: 'Minutes per lesson',
                            name: 'minutes-per-lesson',
                            widget: 'number',
                        },
                    ],
            }
          - {
                label: 'Description',
                name: 'description',
                widget: 'string',
                hint: 'A 1 - 3 sentence summary of the program. Used on the program card.',
            }
          - {
                label: 'Program post content',
                name: 'program-post-content',
                widget: 'markdown',
            }
          - {
                label: 'Program features content',
                name: 'program-features-content',
                widget: 'markdown',
            }
    - name: 'specialityToursDynamicPages'
      label: 'Speciality Tours Dynamic Pages'
      create: true
      folder: 'src/netlify-content/dynamic-pages/programs/speciality-tours'
      identifier_field: pageName
      label_singular: 'speciality tour dynamic page'
      fields:
          - {
                label: 'Path',
                name: 'path',
                widget: 'string',
                hint: 'The URL for the page. Should be all lower case, and uses dashes instead of spaces, e.g.locations/path-name-here. ',
            }
          - {
                label: 'Page Name',
                name: 'pageName',
                widget: 'string',
                hint: 'The main name, usually rendered at the top of the page. Should be similar to the path url.',
            }
          - {
                label: 'Center',
                name: 'center',
                widget: 'relation',
                hint: 'The center this speciality tour is associated with. Values in this dropdown are pulled from the "Location Pages" collection.',
                collection: 'location-pages',
                # TODO: Might be worth making a PR to the netlify docs to note that this is expected to be 'valueField', not 'value_field' like they claim
                # https://www.netlifycms.org/docs/widgets/relation/
                valueField: 'pageName',
                searchFields: ['pageName'],
            }
          - {
                label: 'Carousel Images',
                name: 'carousel-images',
                widget: 'list',
                hint: 'Background of program card will be the first carousel image',
                field:
                    {
                        label: 'Carousel Image',
                        name: 'carousel-image',
                        widget: 'image',
                    },
            }
          - {
                label: 'Speciality Tour Details',
                name: 'speciality-tour-details',
                widget: 'object',
                fields:
                    [
                        {
                            label: 'Minimum Age',
                            name: 'minimum-age',
                            widget: 'number',
                        },
                        {
                            label: 'Number of Weeks',
                            name: 'number-of-weeks',
                            widget: 'number',
                        },
                    ],
            }
          - {
                label: 'Speciality Tour Description',
                name: 'speciality-tour-description',
                widget: 'markdown',
            }
          - {
                label: 'Activities and Excursions',
                name: 'activities-and-excursions',
                widget: 'markdown',
            }
          - { label: 'Features', name: 'features', widget: 'markdown' }
          - {
                label: 'Accommodations',
                name: 'accommodations',
                widget: 'markdown',
            }
    - name: 'onlineProgramsData'
      label: 'Online Programs Data'
      create: true
      folder: 'src/netlify-content/data/online-programs'
      identifier_field: name
      label_singular: 'online program data'
      fields:
          - { name: 'name', label: 'Online Program Name', widget: 'string' }
          - {
                name: 'duration',
                label: 'Duration Options',
                widget: 'object',
                fields:
                    [
                        {
                            label: 'Max Weeks',
                            name: 'max-weeks',
                            widget: 'string',
                        },
                        {
                            label: 'Exceed max weeks?',
                            name: 'exceed-max-weeks',
                            required: false,
                            hint: 'If "true", will render on website as "[maxWeekNumber]+" (e.g. if max weeks = 4, will render as "4+"',
                            widget: 'boolean',
                        },
                        {
                            label: 'Week Thresholds',
                            name: 'week-thresholds',
                            required: false,
                            widget: 'list',
                            fields:
                                [
                                    {
                                        label: 'Threshold Max',
                                        name: 'threshold-max',
                                        widget: 'number',
                                    },
                                    {
                                        label: 'Price Per Week',
                                        name: 'pricePerWeek',
                                        widget: 'number',
                                    },
                                ],
                        },
                    ],
            }
          - {
                label: 'Price Details',
                name: 'priceDetails',
                widget: 'object',
                required: false,
                hint: 'If this field is left blank, it is expected that the weekly price is specified in the above "Week Thresholds" list',
                fields:
                    [
                        { label: 'Price', name: 'price', widget: 'number' },
                        {
                            label: 'Pay Period',
                            name: 'payPeriod',
                            widget: 'select',
                            options: [{ label: 'Weekly', value: 'weekly' }],
                        },
                    ],
            }
          - { label: 'Hours Per Week', name: 'hoursPerWeek', widget: 'number' }
          - {
                label: 'Lessons Per Week',
                name: 'lessonsPerWeek',
                widget: 'number',
            }
          - {
                # Should note, or enforce, that these are PST
                label: 'Times Offered',
                name: 'timesOffered',
                widget: 'list',
                label_singular: 'offered time',
                summary: '{{start}}',
                field:
                    {
                        name: 'start',
                        label: 'Start',
                        widget: 'datetime',
                        default: '',
                        time_format: 'LT',
                        format: 'LT',
                        picker_utc: false,
                        hint: 'This will only render the selected time on the site, and will totally ignore the date (e.g. 09/16/2020 9:00 AM will display as 9:00 AM)',
                    },
            }
          - {
                label: 'Term Dates',
                name: 'termDates',
                widget: 'list',
                required: false,
                summary: '{{start}} - {{end}}',
                label_singular: 'term date',
                fields: [
                        {
                            # TODO: Why is the CMS UI not respecting the format options?
                            label: 'Start',
                            name: 'start',
                            widget: 'datetime',
                            date_format: 'M/D',
                            time_format: false,
                            picker_utc: false,
                            format: 'M/D',
                            hint: 'This will render as "Date/Month" in app (e.g. 09/16/2020 will dislay as 9/16)',
                        },
                        {
                            label: 'End',
                            name: 'end',
                            widget: 'datetime',
                            date_format: 'M/D',
                            time_format: false,
                            picker_utc: false,
                            format: 'M/D',
                            hint: 'This will render as "Date/Month" on the site (e.g. 09/16/2020 will dislay as 9/16)',
                        },
                    ],
            }
            # TODO: Supplements
    - name: 'inPersonProgramsData'
      label: 'In-Person Programs Data'
      create: true
      folder: 'src/netlify-content/data/in-person'
      identifier_field: name
      label_singular: 'in-person program data'
      summary: '{{name}} @ {{location}}'
      fields:
          - {
                name: 'name',
                label: 'In-Person Program Name',
                widget: 'string',
                hint: 'Note that, for in-person programs, the main header of the page will be the location name',
            }
          - {
                label: 'Location',
                name: 'location',
                widget: 'relation',
                collection: 'location-pages',
                valueField: 'name',
                searchFields: ['name'],
                displayFields: ['name'],
                hint: 'This field helps the site logic differentiate between the same program at different locations',
            }
          - {
                name: 'duration',
                label: 'Duration Options',
                widget: 'object',
                fields:
                    [
                        {
                            label: 'Max Weeks',
                            name: 'maxWeeks',
                            widget: 'string',
                        },
                        {
                            label: 'Exceed max weeks?',
                            name: 'exceedMaxWeeks',
                            required: false,
                            hint: 'If "true", will render on website as "[maxWeekNumber]+" (e.g. if max weeks = 4, will render as "4+"',
                            widget: 'boolean',
                        },
                        {
                            label: 'Week Thresholds',
                            name: 'weekThresholds',
                            required: false,
                            widget: 'list',
                            fields:
                                [
                                    {
                                        label: 'Threshold Max',
                                        name: 'thresholdMax',
                                        widget: 'number',
                                    },
                                    {
                                        label: 'Price Per Week',
                                        name: 'pricePerWeek',
                                        widget: 'number',
                                    },
                                ],
                        },
                    ],
            }
            # TODO: There is only one in-person program that does not have all the same hours per week for all the week thresholds. Check if this is intentional or not.
          - { label: 'Hours Per Week', name: 'hoursPerWeek', widget: 'number' }
          - {
                label: 'Lessons Per Week',
                name: 'lessonsPerWeek',
                widget: 'number',
            }
            # TODO: Supplements
    - name: 'specialityToursData'
      label: 'Speciality Tours Data'
      create: true
      folder: 'src/netlify-content/data/speciality-tours'
      identifier_field: name
      label_singular: 'speciality tour data'
      summary: '{{name}} @ {{location}}'
      fields:
          - { name: 'name', label: 'Speciality Tour Name', widget: 'string' }
          - {
                label: 'Location',
                name: 'location',
                widget: 'relation',
                collection: 'location-pages',
                valueField: 'name',
                searchFields: ['name'],
                displayFields: ['name'],
            }
          - { name: 'price', label: 'Price', widget: 'number' }
          - { name: 'duration', label: 'Duration (Weeks)', widget: 'number' }
          - { name: 'minimumAge', label: 'Minimum Age', widget: 'number' }
          - {
                label: 'Lessons Per Week',
                name: 'lessonsPerWeek',
                widget: 'number',
            }
          - {
                label: 'Program Dates',
                name: 'program-dates',
                widget: 'list',
                label_sigular: 'program date',
                summary: '{{arrive}} - {{depart}}',
                fields: [
                        {
                            # Should note, or enforce, that these are PST
                            label: 'Arrive',
                            name: 'arrive',
                            widget: 'datetime',
                            default: '',
                            time_format: false,
                            format: 'MMM Do, YYYY',
                            picker_utc: false,
                            hint: 'This will only render the selected date on the site, and will totally ignore the time (e.g. 09/16/2020 9:00 AM will display as "Sep 16, 2020")',
                        },
                        {
                            label: 'Depart',
                            name: 'depart',
                            widget: 'datetime',
                            default: '',
                            time_format: false,
                            format: 'MMM Do, YYYY',
                            picker_utc: false,
                            hint: 'This will only render the selected date on the site, and will totally ignore the time (e.g. 09/16/2020 9:00 AM will display as "Sep 16, 2020")',
                        },
                    ],
            }
          - {
                label: 'Sample Calendar',
                name: 'sample-calendar',
                widget: 'file',
            }
    - name: 'navbar-item'
      label: 'Navbar Items'
      create: true
      folder: 'src/netlify-content/navbar-items'
      identifier_field: pageName
      label_singular: 'navbar item'
      fields:
          - {
                label: 'Path',
                name: 'path',
                widget: 'string',
                hint: 'The URL the navbar item will go to. Should be all lowercase & use dashes in place of spaces, e.g. program-pages',
            }
          - { label: 'Page Name', name: 'pageName', widget: 'string' }
          - {
                label: 'Links collection Name',
                name: 'collectionName',
                widget: 'string',
                required: false,
                hint: 'If provided, the site will try and pull all the names & URLs from each entry of a particular collection. e.g. for "program-pages", the site will dynamically pull in the URLs & names for all entries in the Program Pages collection',
            }
          - {
                label: 'Order',
                name: 'order',
                widget: 'number',
                hint: 'The order this item will render in the navbar. The smaller the number, the closer to the left side of the navbar.',
            }
          - {
                label: 'Links',
                name: 'links',
                widget: 'list',
                hint: 'All nav link URLs will be prefaced by the path of the main nav item, e.g. /locations/link-name',
                required: false,
                fields:
                    [
                        {
                            label: 'Path',
                            name: 'path',
                            hint: 'The URL the navbar item link will go to. Should be all lowercase & use dashes in place of spaces, e.g. program-pages',
                            widget: 'string',
                        },
                        {
                            label: 'Page Name',
                            name: 'pageName',
                            widget: 'string',
                        },
                        {
                            label: 'Collection Name',
                            name: 'collectionName',
                            widget: 'string',
                            required: false,
                            hint: 'If provided, the site will try and pull all the names & URLs from each entry of a particular collection. e.g. for "program-pages", the site will dynamically pull in the URLs & names for all entries in the Program Pages collection',
                        },
                        {
                            label: 'Sublinks',
                            name: 'links',
                            widget: 'list',
                            required: false,
                            fields:
                                [
                                    {
                                        label: 'Path',
                                        name: 'path',
                                        required: false,
                                        widget: 'string',
                                    },
                                    {
                                        label: 'Page Name',
                                        name: 'pageName',
                                        widget: 'string',
                                        required: false,
                                    },
                                ],
                        },
                    ],
            }
